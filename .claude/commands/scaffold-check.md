# 阶段2b: GLOBAL-CONTEXT 校验

读取 `docs/GLOBAL-CONTEXT.md`，输出 `FAIL/DECISION/PASS` 清单用于回到 `/scaffold` 修正；**不修改任何文件**。

## 读取

- `docs/GLOBAL-CONTEXT.md`

## 输出（只读）

只输出问题清单与修复建议。不输出 GC 原文。

输出规则：
- 如存在任何 `FAIL`：只输出 `FAIL` 条目并结束（不输出 `PASS`）
- 仅当无 `FAIL`：可输出 `DECISION`（若有）或 `PASS`

## FAIL 校验项（机械性门禁）

### 0) 文件存在

- `docs/GLOBAL-CONTEXT.md` 必须存在

### 1) 结构完整性（不得缺章）

必须包含以下一级章节（缺失即 `FAIL`）：

- `## 1. 技术栈（必填）`
- `## 2. 项目结构（必填）`
- `## 3. 枚举值定义（必填；无则写 N/A）`
- `## 4. 业务规则（必填）`
- `## 5. 权限矩阵（必填）`
- `## 6. 数据模型概览（必填；如无 DB 写 N/A）`
- `## 7. 命名规范（如适用；否则写 N/A）`
- `## 8. API规范（必填）`
- `## 9. Story依赖图（必填；拆分后回填）`

### 2) 模板占位符（不得残留）

若仍包含模板占位符（示例：`[项目名称]`、`[框架/语言]`、`[目录]`、`[表名]`、`[4XX]` 等），视为 `FAIL`。

### 3) 规则表最小可用性

- 在第 4 节业务规则表（表头包含 `| ID |`）中：
  - ID 列必须包含至少 1 条 `BR-###`（具体数字：`BR-001` 形式）
  - ID 列中的 `BR-###` 必须唯一；不得出现占位符 `BR-###`

### 4) 噪音控制（不得把 PRD 片段塞进 GC）

- `docs/GLOBAL-CONTEXT.md` 中不得出现 `PRD:Lx-Ly` 行号引用（出现即 `FAIL`）

## PASS（通过后动作）

- `PASS`：仅提示下一步动作：
  - 在新窗口手动运行 `/split-plan` 生成 `docs/split-plan.md`
