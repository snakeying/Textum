# 阶段2: 上下文提取（v1）

读取 `docs/PRD.md`，按 `.claude/textum/GLOBAL-CONTEXT-template-v1.md` 模板生成 `docs/GLOBAL-CONTEXT.md`。

## 前置条件（必满足）

- `docs/PRD.md` 已存在且顶部 `状态: Final`；禁止修改 `docs/PRD.md`
- `docs/PRD.md` 已包含关键规格：模块 `M-xx`、业务规则（编号用 `BR-###`：三位数字，001 起递增且唯一）、枚举/状态机、数据模型逐表字段、接口清单与关键接口详情
- 本阶段只做“抽取与归纳”，不得引入 PRD 中不存在的新规则/新字段/新接口（避免后续 Story 漂移）

## 抽取范围（建议顺序）

1. 技术栈（后端/前端/数据库/部署与关键依赖）
2. 项目结构（目录与职责）
3. 枚举/状态机（统一集中，便于 Story 引用）
4. 业务规则（按 `BR-###` 编号整理；“涉及Story”列先填 `TBD`）
5. 权限矩阵（统一记号与资源范围规则）
6. 数据模型概览（表关系图 + 核心表摘要）
7. 命名规范（表/字段/API/组件）
8. API 规范（Base URL、认证方式、权限校验、分页/排序/筛选、响应格式、错误码）
9. Story 依赖图（在 `/split` 之前先填 `TBD` 或留空，等待拆分后补齐）

## 输出要求

- 输出文件: `docs/GLOBAL-CONTEXT.md`
- 作为后续每个 `/story N` 的单一真相源：全局约定写这里，各 Story 只引用，不重复定义
- 严格按模板输出所有章节；无内容写 `N/A`，不要省略章节

## 开始

请确认 `docs/PRD.md` 已存在。
